<!-- 
    Autor: João Victor Marques Favero
    Este código HTML gera uma tabela para exibir a lista de empréstimos.
    A tabela contém colunas para Chave, Usuário, Data e Hora, e Ação.
-->

<table class="tabela-emprestimos">
    <thead>
        <tr>
            <th>Chave</th>
            <th>Usuário</th>
            <th>Data e Hora</th>
            <th>Ação</th>
        </tr>
    </thead>
    <tbody>
        {% for emprestimo in emprestimos_list %} 
            <tr>
                <td>{{ emprestimo.chave.nome|default:"[Chave Excluída]" }}</td> <!-- Nome da chave ou mensagem padrão -->
                <td>{{ emprestimo.usuario|default:"[Usuário Excluído]" }}</td> <!-- Nome do usuário ou mensagem padrão -->
                <td>{{ emprestimo.data_hora|date:"d/m/Y H:i" }}</td> <!-- Data e hora formatadas -->
                <td>{{ emprestimo.get_acao_display }}</td> <!-- Ação do empréstimo -->
            </tr>
        {% empty %}
            <tr>
                <td colspan="4">Nenhum registro encontrado.</td> <!-- Mensagem quando não há registros -->
            </tr>
        {% endfor %}
    </tbody>
</table>

{% if emprestimos_list.count > 0 %} 
<p>Mostrando {{ emprestimos_list.count }} registro(s).</p> <!-- Exibe a contagem de registros -->
{% endif %}